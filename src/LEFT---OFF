This file is for random notes and specific coding tasks that need to be done
to meet various goals. This includes Roadmap items as well as fixing bugs.
List bug tracker number if any.

When an item is satisfied, put it in the DONE section at bottom of file.
Those are purged with each release.



--------------bugs: things that do not work like they are already allegedly designed to---------------------


------------ serious bugs to fix right now: 

delete page doesn't update page flipper

bug: add gray marks, then '.' for next object, endless loop!
memory hole, activate tool, lay down one paper, quit, 3 objects remain

pdf out needs clone deref

reimpose memory hole.. reimposed 5 page booklet

object layer positioning for Home and End keys projecting out in wrong way

ubuntu resize window failing
gnome "application" does one per window, not one per app. this is not a bad thing imnsho, but should be easy to conform to desktop spec application properly

scribus plugin: if directory of executable script is not writable, it fails! 
 -> should find one that is writable

ContextMenu: tablet mouse can't click down in?!?? -> because slight drag cancels... should allow tiny drags
ContextMenu: mouse hover scan appears to ignore text pad

text window controls have difficulties

shearing produced null axes

tooltips and event timers seem to be frelled

hang after reparent object 
don't allow reparent to a child!! or reparent as appropriate 
grouping frelled.. can group, but cannot seem to select existing groups to ungroup 
object reordering frelled, strange bbox display offset, 

clone a child.. NOT PUTTING CORRECTLY!!!! totally wrong matrix
cloning, change original, not triggering bbox update in clone
cloning, jump to object in offscreen page, switches pages, but bounding box wrong place

prompt window is f'd up
Laxkit::MultiLineEdit needs some serious debugging 

Printing only goes to letter, even though page size says go full page, in image, pdf and ps out!!! *(#@*&#*(&*&$(
print command to printer is not respecting the paper size

laidout import, does not appear to scale correctly, does odd scaling, and inserts unneccesary layers
  maybe option to create new layers, or insert to existing layers?
  option to insert new pages, or merge onto existing pages
  need to center within new margin area, as compared to previous margin area

test-tiled-mark.laidout: delete the bars, add bars back then try to export, program stops (not a segfault)!!!! headwindow gets decremented somehow

select none, select doc, viewport jumps around... it should stay the same area
switch to None document, and units change to unreasonable


------------ other bugs:

file-format dump says "Pattern has 2 elts" at very beginning... some kind of fontconfig or cairo errata?

"edit imposition", then escape.. removes window, but not the frame!

DONE??? need to implement scale pages to new imposition when reimposing (enable in doc settings dialog)

create new pane should dup old pane.. currently divide viewport, removes document focus

memory hole helpwindow 
memory hole when graphical shell activated 
memory hole cairo backend

Lightness slider appears black to white, but the middle is full color, needs segmented render like hue
click enter area of color pickers, does not install color!!!!  

svg out, EquivalentObject doesn't play nice with defs.. only accessed once.. how to upkeep clones in this case?
	-> when equiv objects are composed of groups, what happens?

SimpleColorAttribute() should have double rgbaf available, and various css3 stuff

sigimp fail for multiple stacks with no folds!!

viewwindow, change to spreadview, change back to view.. Horizontal ruler origin is REALLY off

lineinput not propagating escapable

datarefs on images scale not like images

html dump must convert chars to entities

svg coord numpoints==0???? numpoints doesn't really serve any purpose other than debugging, but....

splitwindow cursors existing in subwindows

object tool shift-control for rotate does not allow positioning on drag bars

'g' for color sample changes cursor to cancel now, and changes on border cross!!!

possible modifier-pairing error with multiple mice...

do laidout -n letter, split a window, then quit. undeleted Objects remain!

recent files do not appear to be most recent file opened

object deleting funky, import svg images, select one, hit delete, doesn't delete!!
place 3 images, object select, must press delete twice...!?!?!?!

should not be able to group select an object and another object nested within

file previewer not updating preview when using arrow keys

create new window, defaults to no doc. should select doc of last pane

add blank image, change description, do not change filename, makes width/height zap back to 0...

shrink image lets you go immeasurably small

fold indicator foldprogress just at crossover points incorrectly indicating affected folds

pixels units should be set as per document dpi

svg to coord incomplete
memory hole in svg in? test svg import, svg path import must be done

make sure all imposition types are available in interpreter

resource impositions not showing description when selected

GradientInterface problem rendering radial when two circles separated by large distance

headwindow swapping is now REALLY messed up
pane swapping/dropto on maximized, swapping in general...

WATCH OUT for when preview file is OLDER than original file!!

stackframe seems to be ignoring window borders on layout

----------------0.096 ROADMAP ITEMS: features and enhancements------------------------
website: clarify how to get debs from the tarball
website: explain a bit more how to install dev versions, and place side by side with "stable"

update fileformat.txt
check laidout.1 when time to release
update docs to have new release number
update translation base files
update screenshots
update links page, add boomaga?
update dtpcompare.html
put rss/g+ links on all menu pages
test:
  each window type: about palette view spread command text
    help: window pane does funky stuff
  test in different window managers
  each export filter (via command line in new script in examples.. ignoring problems in eps)
  make some test scripts for command line testing
make sure undo is experimental only


finish implement cairo backend
  zoom up and down jumps way out sometimes
  multiline text out doesn't seem to work: noticed in tooltip
  decide on image importers, cairo can only do 8 bit png
  gradient outline not working
  use cairo_debug_reset_static_data() at final close to release any remaining stuff in cairo memory

  DONE copy/paste with utf8 freezes cairo
  DONE resize viewport freezes cairo
  DONE resize sig interface doesn't reposition boxes

color slider popup:
  have a "Done"/"Dismiss" button
  DONE should pop near the mouse



object tool:
  things to allow editing of wrap, inset, clip paths, and chains

caption CaptionInterface
  text to path
  fonts need to dump in/out by themselves
  when hovering over other text objects, highlight their boxes
  should adapt from multiline edit, since it already has cut/paste, selections, and is mostly debugged??
  change centering not smooth, text placement hops
  click to place caret
  select, copy, paste 
  right to left
  opentype variations
  baseline justify
  insert character interface
  control-u hack for poweruser unicode character insertion
  use selected text as sample when popping up font dialog
  lorem ipsum
  color fonts
    overlay fonts, semi-manually overlaid
	consider native otf: Mozilla and Adobe’s svg table, microsoft's colr/cpal, Google’s PNG images (CBDT/CBLC tables), Apple’s PNG images (SBIX table)

  DONE start dialog not selecting current font
  DONE use last selected object's font settings for new objects
  DONE interface off or object change, remove blank objects
  DONE click no drag to input font size, angle
  DONE on read in for Laidout, the line spacing is wrong
  DONE size of non-active object all wrong in laidout
  DONE mods to change speed of size change
  DONE cursor up and down goes to wrong position
  DONE i/o color, set viewport color on selection

fontdialog:
  font Arrange not working
  should REALLY have a LayerFont head containing the whole list, not a stand alone list which causes too many problems
  when sorting and there's just a couple, need to ensure that they all appear on screen
  should really get around to implementing scrollers
  font->SetFromFile() should do more fontconfig checking to grab propper file+family+style+size
  need a way to remember layered fonts, to easily activate and deactivate
  FindFont() is faulty, as it only lookes up family/style.. should search by the unique file name
  pgup and down doesn't select a reasonable one
  start up with correct font selected
  vague search via fontconfig matching, to find a match for something like a "sans"
  sometimes family+style is not unique, but has different languages.. should detect this
    use postscriptname: "DroidSansHebrew-Bold" -->  "Droid Sans Hebrew"/"Bold"
  font to zero size screws up everything
  language coverage search
  select default language/script
  select opentype features
  sample block should resize according to text size
  font preview in list
  should be able to access list of font favorites, and a user's preferred organization of fonts.. fontmatrix import?
    fontmatrix uses a sqlite database.. should be straighforward to scan it
  optional common font finishers? like centering, underline, color, highlight, fg/bg, etc

  DONE font list should be saveable across dialog instances -> store in fontmanager
  DONE should be able to set color(s) in "ok" event -> palette passed in font
  DONE style should be drop down
  DONE size has to be floating point.. means changing numslider to be double ready
  DONE scrolling: problem with Sync zapping start, sync calls SetBoxAspect which messes with start
  DONE resizeable sample box
  DONE sample block fg/bg
  DONE progressive search

text on path:
  kern handles
  offset from stroke or from path
  multiline

text:
  multicolor (via overlaying) fonts
  freetype/fribidi/harfbuzz?
  interface base for utf8 based editing.. share this with window edits somehow
  DONE access combine character pairs
  DONE lineedit/multilineedit copy/pasting freezes cairo

make drag and drop selections work

Do separate package for icons, to aid those who can't get inkscape to make the icons in both lax and laidout

need more mechanism so that popup dialogs stay on top of window they are "children" of

need a global Laidout method of making unique ids
 -> update in Engraver tool, and object indicator overlay

when resizing viewportwindow and a temp_input window active, make sure it stays on screen?

searchable menus

viewport:
  needs menu box between scrollers to select various view/zoom/rotation/other settings

engraving tool: Engraving 
  bug: make a LineEdit overlay for number input, then Next bdown is ignored!! l, m, or right all ignored: viewportwindow line 947
  bug: object rotate works fine. but then enter and leave engraver tool. Now object rotate is messed up
  bug: 'z' zaps mesh, but does not change cache border or point mapping
  blockout doesn't work

  multiobject:
    object lines in group list needs eye per object, affect actual object visibility
	need to enforce resource unique names
    need ability to store overall styles of a patch, not just each individually
	on resource menus, should check mark if current matches a resource??

    DONE resource settings need to be able to be shared across objects(done) and survive file io
	DONE need more thorough resource management to track resources/users
    DONE-ishsetting sharing is confusing, need much better interface for that
	DONE escape off curvemap, trouble with somedata in GroupInterface Refresh
    DONE should be able to change object name from within panel
	DONE (i think) click off an object, selection not flushing properly?
	DONE-ish collapse/show groups on per object basis? <- no, easier to just show all, wheel the panel up and down
	DONE right click to remove object from list? or just shift click again? <- just click off
	DONE distort tools need to act on all objects in selection
	DONE implement push to all
    DONE shared state needs to look if other objects have groups that can possibly be shared with
	DONE use from list not showing group names correctly
    DONE clicking on other object's group name should select it first, not do the rename thing
    DONE double click in viewport should activate tool with multiple objects.. only works with one right now
	DONE select tool from menu or with 't' should activate tool and transfer selection
	DONE object tool must act with viewport->selection
    DONE be able to autotrace to multiple engraved objects

  orient:
    should adjust all linked
    with test-engrave-trace2.laidout, do the quick adjust, does not preserve width the first time, using old value of thickness?
    option to remember old values while adjusting position, rotation, spacing
     -> when manual tweaking of spacing, need to produce value reference so that future line orienting preserves line thicknesses
	DONE remember default width
    DONE should be able to enter numbers for orient by click no drag
    DONE instant global thickness adjust on orientation tool?

  tracing:
    seems to be grabbing spurious tracing values outside of the tracing object, and at borders of trace object
    tracing object, lines abort just inside the image, maybe should just go one off the edge?
    trace object transparency slider should actually slide transparency
	trace object needs flip, at least h and v, not really needing the whole affine thing
    need option to export trace object in same position as the traced lines, so it can be further processed elsewhere
    custom sample of channels
    sharp edge detection in tracing
	snapshot should be for all in selection
	shift-drag (or drag anything not covered by trace object) should drag ANY of the meshes in selection, not just current
	when multi objects, the traceobject is interweaved, based on draw order, only under current object, should be under all?
	make gradient interface work in trace mode

    DONE need option to have it always show trace object
    DONE trace object should have its own dumping functions, since they might stand on their own as a resource
    DONE bug: memory hole after tracing
	DONE snapshot needs to align to correct area
    DONE opacity bubble extends in to panel area, clicking on it moves panel, not bubble
    DONE 2 objects, push to all for tracing, do new on one, then trace once does BOTH
    DONE trace object scaling and rotation should happen around mouse point
    DONE invert trace sampling: sample white instead of black, <- curvemapinterface: right click menu option
    DONE trace adjustment mode should prioritize moving the trace object, scan for it BEFORE scan for engrave object
    DONE trace function should be in EngraverPointGroup, not so much at interface level
    DONE trace once not working
    DONE trace object needs to be in page context, not object context (or must be default option)

  freehand/path:
    freehand not being interpreted correctly: non-equal smooth is adding erroneous extra mesh column
    drawing custom freehand (with width) lines within the mesh area

  mesh path:
    'a' not selecting all in line

  curvemap needs predefined ramp profiles, remember last, load/save (per context?)
    -> options to insert various predefined patterns
	need magnify do dads for easy expanding of countour without having to place each and every node
	DONE curvemapinterface: right click menu option works in trace, but not in brush ramp edit!!

  direction:
    need accuracy modifiers for dragging controls around
	only when at endpoints, lineprofile not producing smooth results at random spots inside
    should be able to adjust number of sample points to match up well enough for points in lineprofile 
    random end point sliders should inc or dec according to which side mouse clicked down on compared to absolute end point
    spiral spacing computation bad when spokes are nearer radial
    save the opensimplex line displacement from line/point randomness, to be used to also adjust a spacing map to preserve value when viewed at a distance
	be able to trigger a reline on load in
	be able to set a 3-d parameter for noise? useful for animated noise
	option for "adjust for spacing", making weight reflect the spacing, either for constant width or trace
    line profiles: (done) linear, circular, radial, spiral?
	be able to edit and create new profiles
	grow
    line generation: 
      grow: implement custom line merge and break to preserve spacing across mesh contraction
      grow: edge abutment when generating
      sample point generation should be based on lines per mesh square, not total mesh field
      finish implementing spacing section -> spacing map
    DONE line profile start point at 0 producing bubbles
    DONE button to remap lines, so not done automatically? shift press button to always remap

  need convert to path object ability
  fully implement resolution adjustments for auto lines -> needs resolution tool
  single group (not group list) view is too old, doesn't do link circle, and can only select from current object groups.. remove it entirely?
  export doesn't work for: nothing for scribus, eps, ps
  edit brush ramp as symmetric ramp 
  resolution tool: click to add between points within brush, control to destroy points in brush
  need merge group

  screen view, need option for Fast|Accurate
  no writability check on exportsnapshot
  allow temp override of linked to adjust only current?
  establish path needs better smoothness assignments
  keys being caught in patch, not in child path
  test: bez cache needs updating when points are moved around
  test: dash cache needs updating when points are moved OR thickness changed
  always brings current object to front (normal refresh in place, and then interface draw on top).. should be very optional, as it blocks out white overlays
  don't warp, move points, then warp, almost always has bad points: PatchData::getPointReverse() is too inaccurate
  undo/redo
  finish implement making the circle lines be closed circles
  current blockout is not very precise, needs approximation between existing point samples
  need some kind of smooth out: smooth out width, and smooth out path
  hover over mode icons should show text of what you are hovering over (verbose mode?).. hard to remember, annoying to look at status bar otherwise
  should be able to draw a line and have that be a baseline for dash division
  option: either drop out of bounds points, or zap mesh to point bounds
  numsliders should have click on arrows for single increase, and a dismiss x for input box
  should probably abstract control panel creation so we don't have to hardcode everything all the time
  sampling could be more sophisticated, currently just grabs pixels, could downsample the image based on current spacing
  Danger! coons patch produces discontinuous contours within multiblock meshes!! who knew!?
  perhaps allow path objects to be adjusted with engrave tool for custom outlier lines not part of mesh?
  must implement mode based shortcuts in Laxkit. currently all mesh shortcuts are active
  stippling/decal mode, each sample is either a point, or map on an arbitary object, or sampled object?

  DONE (done) size of turbulent cell, and (done) per line turbulence
  DONE shortcut to unlink all, or toggle all linked, toggle all in group linked
  DONE space duplicate produces unnamed new groups as well as old group copies
  DONE need shortcuts for next/prev group
  DONE direction map is not showing actual direction
  DONE bug: seed values not letting me put in 0, goes to -1
  DONE point/line randomness in all fill types: linear, radial, circular, spiral
  DONE finish making value to weight map on canvas editable and work right
  DONE bug: 'f' objects appear to connect to points outside 0..1, but screen render doesn't -> line creation is allowing points with value > 1
  DONE CRASH: select engraver object, add page, crash!!!
  DONE bug: offset panel, the input lineedit is not starting at proper offset
  DONE need mouse sensitivity sliders
  DONE distort tools should be pressure sensitive
  DONE escape off brush ramp edit is exiting all tool, not just engraver tool
  DONE maybe expanding list of point groups, with ability to toggle linked and active in list
  DONE need duplicate group button for easy crosshatch <- Add button copies from current group
  DONE wheel over panel should move the panel, not the viewport
  DONE bug: one obj with 2 groups, one with 1 group, switch with . and ,, does not trigger resize panel
  DONE needs to be an indicator on red linked circle when current group is selected, as it acts as green then


PathInterface:
  bug: should not create new control points by pressing cntl, unless there is movement
  bug: shift click down then up on a point selects then deselects.. control can toggle
  bug: seems to be possible to move nodes out of order
  debug remove points affect on weight nodes
  dup path object links the path style, but save and load, it is not linked... need to sort out line/fill style inheritance/linking

  zero tips not working on mesh edit? with import test-engrave.laidout
  bug: when path is a child, width nodes are not drawn correctly
  bug: problems for non-bez-controlled corners at endpoint. Also variable offset causes weird connections
  bug: make new line with freehand tool, cannot move weight nodes in a rational way
  bug: applyoffset, the bez part at joins is messed up when no offset, suspect problem in FlatpointToCoordinate, mismatch with bez join next to sample points
  bug: now node scan and display works, but drag doesn't!!
  bug: delete last weight node, width is wrong
  debug cache sample point distribution, the interpolator is really bad as is
  powerstroke export requires apply offset.. else weight nodes are all messed up
  clarify export for weighted paths, use outlinecache and areacache as needed, check all filetypes exporters: svg pdf scribus image/ps/eps
  finish implementing joins. need to clarify weight behavior at corner joins
  weight computation is currently done based on even t spacing, but probably should be mapped based on distance
  interfs.cc: weights not being shown unless '_'

  debug extrapolate
  implement open at any point to possibly break into separate subpaths
  need numerical entry for all weight node characteristics
  need to protect against reentrants at corner joins.. makes holes unless nonzero rule, and sometimes sticks out the other side
  sliding around the nodes is really annoying.. should do according to proximity to center line
  inkscape has multiple interpolators, we should too!
  actions to implement:
    need arbitrary cut
    need command to apply offset
    need path combine (combine path stacks of multiple PathsData)
    need break apart (make new PathsData from each in paths stack)
    need special break apart to make new PathsData, but preserve totally enclosed paths as intential holes
    need mechanism to be able to add custom path actions to context menu 
  implement work on multiple path objects at once
  ApplyTransform() and MatchTransform() should adjust scaling of width nodes?
  custom caps.. define cap to a horizontal line, take endpoints and endpoint tangents, return the cap warped to fit the tangents
  custom dashes, with custom start/end dash caps
  need some kind of extrema fill in for angled paths, so it matches sweep of whole segment, not just endpoint sweep lines
  should have shortcut to offset ALL weight nodes, or angle ALL nodes
  how to deal with bbox when using wacky weights?? -> use bbox of outlinecache (or centercache), non-weighted (optional): use flat bbox + linewidth
  need something like path->PointInfo(t, &pp, &vprev_ret, &vnext_ret).. done is GetWeight(t, &width, &offset, &angle)
  maybe should revisit PathOperator stuff, such as for spiro paths
  need way to turn off selectability of path points (thus leaving only width nodes selectable)
  per vertex join type?
  linestyles are always output independently, can't currently cascade with current code
  if background is green or red, hard to see the direction indicator
  line join round should add extra point for really wide angles to make them more circular 

  copy and paste
  maybe dotted connection if only both end points selected, click connection to close?
  maybe control when on vertex will create whichever handle does not exist, control nearest drag point determines which is created
  not show every single handle. only ones associated with active vertices, show unactive vertices with small circles
  align nodes -> create temp set of data to pass to AlignInterface?
  transform handles for nodes, including flip
  subdivide, repeat key press restores old segment, then adds 1 more point to num of points from last press
  toggle between add points / select points?
    if add points, show dotted line to indicate a new segment incoming
  finish new path/pathoperator/pathsubinterface/pathinterface structure 

  DONE default path width should be thicker, maybe a few pixels wide
  DONE bug: add seg for endpoint, then try to select a point: crash! -> improper curpoints.push()
 

command prompt window: command line
  option to record/save/load whole session of prompt window

save as should change save/import/export/current directory to that directory
save incremented?

autorecover.. autosave every X minutes -> need to decide on autosave location and how many to build up, how to remove old

clear out warnings due to make hidegarbage

TreeSelector:
  with text colors, mouse over highlight is off
  cursor movement jiggles view.. problem with makeinwindow??
  makeinwindow() doesn't account for columns
  option to use markup for labels
  spacing for column heads is NOT selecting for bounds

  DONE objecttree printing columns TWICE

layers palette
  key controls for navigation within menu:
    space/enter toggle open and closed submenu
  edit colors not highlighting every other
  move
  rename in place
  implement buttons
  locked
  visible
  selectable

image filters:
  node editor
  graphicsmagick
  gmic
plugin for easy antiprism import

for purely command line execution, should be able to make totally not X dependent.

maybe expand the page label system to have some kind of to-do markup.. this could be combined with preflight verifiers
  or other search activities as work-in-progress annotations

filters:
  need createImportConfig/createExportConfig to make ImportConfig/DocumentExportConfig objects from parameters for all filters....
  remember last export 
  importing should not spawn new windows
  importing should sort out duplicate names
image
  make sure temp file is removed, should probably locate in user space maybe? or make sure perms set reasonably
  should really make this graphicsmagick based, not gs+pdf based
pdf:
  export complex engraving is really, really slow. probably all the string reallocation?
  pdf optimize jpg dump, compress image data
  still true? pdf export if a path has null linestyle/fillstyle it buffers until next path drawn
     instead of drawing with some default style
Scribus:
  check for updates in file format for 1.5
  import/export color meshes, for recent versions of Scribus
  import/export linear and radial gradients
  scribus in/out: font sizes, stroke widths
  import should try to apply the Scribus layout correctly, at least for 2 page spreads
  import should do something meaningful with original Scribus page bleed values
  scribus export should show actual version export
  scribus import: need to read page sizes from actual page attributes, as it may well be different than in document attributes
    -> this necessitates revamp of singles to use more than one paper type
  scribus out doesn't do gradients
eps:
  export seems to be rather broken
  command line export file name defaults to "output#.eps"
svg:
  after in: nodes right on each other produce bad vectors
  in hangs.. should NOT default to powerstroke.. the cache for complex stuff REALLY bogs down, creating NaN draws
  in needs to account for viewBox
  in for powerstroke
  in needs to parse "use" elements and other "#" refs
  after in, does weird things with width node -> child objects not display correctly

  need in for style on paths
  in/out for meshes
  radial: transparent inner circle, patch edges
When there are errors or warnings in exporting, should be able to have the error log such that
  you can just jump to the offending bit easily. This would also be used for preflight verifiers,
  and maybe also mass edit things, like edit all images..
  - have ViewWindow::JumpToObject(&place, objectid);

collect for out: define directory to pull all files and external resources in, including the .laidout file

newdoc:
  when change number off named paper, make it "custom"

export/print dialog
  make print button experimental only?
  vital to debug send to printer
  rotate on export useful, especially pdf export: implement DocumentExportConfig paperrotation
  rotate every other page 180
  print in reverse order
  export should have a preview of what is actually going out, flip through spreads
  in papergroups with multiple papers and double sided impositions, need to ensure front and back are output properly for printer 

Clean up mesh/patch controls: 
  maybe should not be able to escape off path tool when editing as path
  reverse lookup is not very precise: need to warp back and forth ONLY when necessary, as when
    switching to different, non-point-distort mode

  edit multi objects in mesh tool.. should be able to move around many nodes?
  coons are not really smooth at internal edges? try with engraver, makes corners with current inner interpolation
  tracing infrastructure should be part of base mesh class.. would make easy for color mesh to use
  when on edge, it highlights, but if you are outside of mesh, it will switch to other object
  smooth edit mode should be default. It's not working when more than one square
  smooth edit fails along edges
  rotate/scale single control point should move attached controls in smooth mode
  add new patches should smoothify joins when in smooth edit

  just as moving edges, should be able to move any vert column or horizontal row of points
  selected nodes should probably be colored, just gray disappears, hard to work with
  maybe have status message say how many points are selected
  nudge mode with shift?
  rect select nodes
  for cache preview, only update affected patches.. difficult to compute when overlaps
  changing recurse and rendermode in patch controls doesn't change that setting in the instance that does random rendering!!
  implement more right button config options to make the settings more discoverable
  circle warp needs a proper circle/ellipse interface
  make base path dump_out as Path, not PathsData? make it easier to read file removing the unnecessary??

ellipseinterface:
  crash on lbdown: dp is null???

curves:
  curvemap needs predefined ramp profiles, remember last, load/save
  curvemap needs brush ramp mode to show symmetric graph
  clip wrap render to graph rect
  brush ramp edit mode: incompatible with wrap? or just have editor move points symmetrically?

lineedit:
  seems to be an occasional redo bug, reinserting in wrong position
  password
  date
  time
  DONE dir

scribus plugin needs a proper dealing with temporary files

need infrastructure to propagate and save tool settings 

Convert impose-only to be based on feeding it an ExportConfig

FileDialog2:
  bookmarks, have recent there
  bookmarks, display as separated list, not tree
  implement icon list selector
  hover is selecting.. should be just hovering
  edits color style: bg alternating isn't highlighting
  have little x to clear masks..
  need way to draw grayed out icons
  details: name  mod-date  w x h  size
  sort by details
  tree display flat option
  tooltip to show full path of bookmarks
  do recent right, figure out current way other desktops do it
  exclude/include directories when listing files
  need hover indicator, and better scan.. ignoring offset

file button:
   Save
   Save incremented
   Save As...
   Save a copy...
   Save as template... <- need to enter template name and file?
   Save as default template
   Quick save backup
   ----
   Commit (git/svn)  
   Commit settings...  <- choose or set up repository
   Revert...  <- show log, select old 

icons for the following, perhaps be right click on the save button? or modifiers on buttons
  save as
  save a copy
  save as template (just saves in ~/.config/laidout/version/templates)

when you try to open anything in ~/.laidout/*/templates, then it should open as a template 
                                    
transfer from DrawableObject to Somedata locks, visible, selectable
transfer group behavior to SomeData? would greatly simplify some things

for export, need way to have easy crop, especially from command line

General design usability
to be a decent editing platform, Laidout needs:
  undo/redo
  better screen renderer
  master pages with auto page number is important.. for image based page numbers, dynamic objects important!!
  would be convenient to send to gimp for editing, update later live
  when delete/add pages, need option to reposition to same orientation in margin area
  snapping rotate, maybe drag handle with control?
  more specific control over transform.. numerical specification
  per object visibility
  per object opacity
  better key input edits
  guides
  clipping
  text

guides:
  snap guides to objects
  snap objects edges to various things

General Laxkit Interfaces needs:
  DrawData for arbitrary rendering of any known objects to any Displayer object
  DONE stack of available interfaces -> interfacemanager.cc
  DONE iconmanager

align tool:
  need to make discoverable, not just as key shortcuts
    -> make as standalone tools, now that viewport stores selection?
  endpoints should be oriented triangle, not circles which make it look like path nodes
  explode in normal align
  should be able to scale and rotate a non-line path when not in path mode
  need manual mode.. drag grid marks to position manually... have that option available on others, auto transform to auto
  gap looks ugly.. have indicator highlight path itself, drag that around
  would be VERY handy to be able to recall previous arrangements, so you can partially redo 
  final layout options: unoverlap -> possibly snap to path, then spread out on path to not overlap
  extra custom finishing per object?
  reorder on layouts? -> how to handle reorder in gap and unoverlap?
    trace out order path... show with numbers
  drag out path, order of intersection is new object order?
  maybe grid drag control to reorder
  snapping to 0/50/100
  number box while dragging, goes away after a second, or click on it to edit
    if inc/dec arrows, have it inc or dec the decimal place cursor is on
  default presets: inkscape crossover

Spread Editor:
  need to make pagelocation ref count pages, or (need to anyway) check all known views for errant page refs after delete pages
  would be nice if apply and reset should be grayed as relevant
  adjust page preview resolution
  after an insert, have temp wheelable number indicator, update on screen?
  need to be able to move empty spreads
  need to remove hidden pages from pagemarker 
  debug select spreads with rectangle -> need real box intersect? do we?
  modify page range gui, click on a page label, where ever it might be... select pages in spread editor
  debug spread limbo threads and page groups
    implement render
	debug drag and drop
  create new document from spread view?
  hide should collapse into a single thing so you can arrange more simply, instead of still having to sift through many

Color sliders:
  maybe should have an "ok" button to get rid of floating box
  be able to choose which color sets are visible
  make color slider box be able to be a pane
  would be nice to enter number values in any color format
  need some kind of palette tab

need to remember previous export settings
need infrastructure to propagate and save tool settings 
Tools should remember their settings
    figure out which settings need to be remembered, and install as resource.. what happens when diff
     windows are using diff tools? which settings are remembered? have tool styles that are saved, as
     well as the running tool use settings 

paperinterface:
  interface for custom paper size
  implement paper favorites:
    be able to nest favorites, item->favorite = "submenu/23", item2->favorite="2", final element is number?
  laidoutrc needs list of custom paper sizes
  papergroup tool needs custom paper input
  debug papergroup tool in spread editor
  paperinterface: in spread editor (done), and able to print it out, don't forget to remove DBG for release!
  options to show order of papers, print all of one size paper first? auto sort order by size? auto wrap image?
  Load, save, add, delete paper groups
  papersizes are not translated. Should they be??  
  papergroups:
    work out scheme for resource ownership: they can be owned by:
      1.DONE  Document: if no project, save with document by default
      2.DONE  Project:  save in project file
      3.or Global resource: save in ~/.laidout/version/papergroups
          class FileRef 
        papergroup->owner=Document, Project, or FileRef
  paperinterface:
     no doc, define papergroup, convert papergroup to singles pages?
     orient viewport to paper
     snap other papers to various boxes
     double click to edit paper details
     in spread editor (done), and be able to print it out
     more versatile size control per paper
     edit window? should be edit on screen....
        Name:  default single letter
        Paper: Letter, 8.5/11, landscape
        Box: Media [v]   Box: Clip [v]
                            [ ] None
           0 0 8.5 11       X: 0   Y: 0
                          W: 8.5 H: 11
        [delete paper type][new paper type]

should take precautions so that dialogs do not get buried, would need to respond to circulate events

perhaps switch export/import objects to new cascading Style as base..

ungroup should have ungrouped objects selected after ungrouping

in laxkit, key and mouse state should already be filtered to only contain laxkit modifiers,
reserve names for CommandMask (macs), and a few other custom masks for other weird keyboards

mass image edit, need to remap dirs for old files!!

bleeding mechanism should be functional

option to use different go/don't go colors

animated beacons for anchor points to make them visible

double click on group should change selection area to group contents?
    need to clarify how grouping operates. Perhaps implement sets at same time
    clearCurobj() with skim to group for group->double click?


object select, 'a' toggle select or not, select all in current selection area (ie page or layer base)

'm' should be able to move whole groups, means must be in object tool?

For objects that appear very small, the drag handles should not be operable.. shift only

nup:
  flowed
  unclump
  unoverlap -> define strategy, either shift H, Vert, along v, or shift on axes between objects
  object reorder
  scale panel should allow mpx and control zoom around point

cloning: convert to master: make a clone be the original.. 
  means swapping the actual master with the clone
  ..if an object is cloned, maybe just have them all be clones, and original becomes a remote "data block"
      to be dumped to file in a defs section? if all refs gone but one, then it takes place of clone?

tiling cloner:
  debug groupify
  click on base cell, update viewport color box
  save color hints of base cells with Tiling object
  change color of boundary, and outline preview
  1m and mg do not seem to work: need a final transform to apply, NOT repeatX/YDir().. those shift without rotate
  select objects, wrap base cell around it
  debug recursive
  need rudimentary editor
  need flag for ok for cell to shear, ok for cell to scale x/y independently, and have it apply as it should afterwards
  need finishing tool
  design interface for clone on path
  implement circular interface
  penrose/heesh/net clone interface
  need progressive search when mouse over box
  autocreate seamless tile image
  autofit source objects/images to the pattern to minimize gaps
  clipping options when source images overlap in final layout


overlays should get first pick of input, BUT if another has a button lock, it shouldn't mouse move update

need a way to tell rect interface to enter move mode with lbdown, as when initialize a child interface

standardize new Impositions: convert to new ResourceManager system. each has:
   interface OR window editor
   class type
   default resources
  possible to define other editors for any imposition type
  
make "make uninstall" work, and remove coop from installed position 

select region by intersect, not by corner inclusion...

Object tool:
  maybe show flip and 90 deg rotate handles only when mouse outside the selection area?
  control-move flip line to snap to horizontal, vertical, 45 deg, or common gravity points

When importing from an image list file, should be able to say if and when to auto-make previews
    new option in file, should be easy

mystery data enhancement: import as placeholder objects: if convertible to laidout elements, do not actually
                expose them as such. Keep source in external location, current laidout only rearranges.
                  ---> this is same as import as image, but using laidout objects to render them with, not bitmap images
                  ---> this is useful to have a standard object indicator built from laidout objects, but
                         do not let them be editable

resources: 
  should have a way to narrow down what resources are saved when you save a single document.. right now, if you
    have multiple docs open, the resources are mixed
  really should have option to separate or merge resources when multiple documents open, rather than always merge?

how best to integrate Styles, Attributes, and Values??? style types:
 Laidout
 Project
 Document
 Page
 Group
  draw objects: Image, ImagePatch, Paths, Path, LinearGradient, RadialGradient, PatchGradient
 PaperGroup
 PaperType
 Imposition: Singles, DSS, Booklet, Signature, Net:Box, Dod, etc...
 ImageImportFilter
 ImportFilter:svg,ppt,sla,ps,eps,odraw
 ExportFilter
-->Styles are Values that can be cascaded from other Styles
   Values cannot be cascaded
-->C++ classes represent data that can be accessed and modified through:
     onscreen
	 file saved to disk
	 interpreter
   would be advantageous to write a single object def, and output options and documention to
   each of the 3 targets

Imposition use cases:
  booklet contains two threads, read one way, flip book over, read the other way
  booklet but each paper is trimmed differently, like for tabs
  moebius
  need cutting marks for posterizing for lining up different sheets
  impose only needs access to papergroups
Net imposition
  create from papergroup: one papergroup used as page spreads, another used as actual paper group?
  net extra scaling non-functional
  NetImposition needs import/export net,
  export svg
  convert to/from laidout elements
  interactive unwrapper and build net interface figure out bleeding and connectivity infrastructure
  figure out more efficient clipping of Imlib images
  finish implementing double sided nets
  saving when net is internal is not proper.. does not distinguish between diff. nets and whole

hedron window:
  send imp
  receive imp
  need to draw other nets in outline (at least) in paper view
  need to preview sides on hedron
  memory hole in polyptych
  need to implement more options for polyhedron connections, to allow mobius strips...

  DONE proper units for papers

from laxkit: clear up focus handling which currently REALLY SUCKS especially when dialogs are up
    focus off a dialog, then refocus, must manually set control focus. should store which subwindow
     gets the focus when autofocused.

pointin should check to visual boundary, not bounding box (? maybe just optionally)

For objects that are really skinny, it is not practical to have the handles be a percentage of the skinny
  part.. should have minimum drag areas?  

customizable object child relationships to parent, rather than simple transform
  incorporate gss!!
  DONE scale x
  scale y
  scale free
  stretch, proxy displays ok, but after install stretch doesn't work
  shear *** seems to be off from point, need shear protection, produces null axes sometimes
  DONE scale
  DONE rotate
  DONE scale+rotate
  DONE move

  add page target anchor
  add parent target anchor
  add object anchor
  margin area not working
  implement rules list click remove
  implement click rule, update display, watch for offset
  anchor names should not have quotes in them, because disk i/o is easier and I'm lazy
  problems when anchors are on a page that is not at origin?
  check for only align objects that are on pages
  margin area anchors not staying when margins change
  transform relative to alignment point of parent (50,50) for center, for instance
  code
  edge magnet
  when trying to move an anchor when you still need to select invariants, flash the invariants
  need edge indicators for more convenient snapping


calculator
  showing defined functions should show the code
  set dump_out_atts should do full atts if any subattribute has full atts, else output "set": "{1,2,3}"
  dump_out_atts should output raw toStr things.. Strings currently return "str" which is output "\"str\""
  debug for
  debug generic with operators, doesn't seem to be working
  debug operator definitions
  debug using and import... maybe remove using, use import Math.* instead
  debug number deref: var a={1,2}.. out of bounds not returning cannot deref.. returning "Ok"
  var a if a already exists should fail
  error reporting up function calls doesn't say pos/line for each expression
  overloading does not handle parameter mapping per overloaded, it is scanning only the first, and using that
  print string plus any non string should stringify the thing and append to string
  curline not getting incremented properly when there is skipping or looping going on
  implement a PaperSizes object that recognizes all the names, or maybe a set somewhere with all names?
  Math.oeuaeou does not produce an error
  allow if statements on single line without curly braces
  inputting lines when open {"( maybe prompt "... " to wait for closure?
  how best to allow created object defs to be referenced as parameter, variable, or set types, it is a mess right now
  destructors
  show overloaded entries


gshell:
	needs massive testing
	type "tool." (for instance), you can highlight choice with mouse, but does not insert into edit, only inserts when nothing had been typed
    *** not getting options for all tool and object!!
    searching seems to be messed up, improper matches when mid stream
	mid stream search is messing up match names
    completion should be worked into the edit.. "object.|" then tab is replacing all text with field name
    when in function, search among parameter names also
    need to search for context names before searching for calculator names
    search within area, not total tree
    text delete to nothing should only show the top areas in search results
    thoroughly test object access
    object.translate((1,0)) -> MapParameters should map the flatvector to p, not to x
    shift up/down for showing completion
    reposition cursor to error
    for parameters, facility for special edit dodads

custom tools:
  scripted
  normal tools, but jump to special settings for those tools..

implement marks
  bleed marks
  color bars from a palette
  spread info: spread type, current date and time, creator, spread number/total number of spreads

turning off overlays should revert icon to current tool

for clones, it would be easier to have a "defs" group or something, so deleting the original of a ref will
  not cause problems. When deleting objects, must then take care to update parent, so it is immediately known
  if an object is without a home.

implement undo.. ideally use same code for both undo and recordable/assignable actions
  object interface
    need to account for:
	  dragging m changes
	  key flip, or non-dragging changes
	  object deletion
  image
  gradients
  paths
  meshes
    color
	image
  engraver
  inside curve editors
  paper interface
  spread editor
  reimpose
  unwrapper
  metadata stuff
  cloner
  during scripting?!

maybe flag whether to export limbo with spreads?

action/shortcut selector overlay

importing images should default the image id to a variant of the file name

ImageImport dialog: (actually, needs a total redesign) import images importimage
  should have preview for alignment options.. grab destination page to show preview
  auto bookmarks, one for examples, or save as template
  Choose/Review tabbed window
  horizontal stack frame between choose/review and preview window
  fancier path selector
  for preview field, show green or something and change tooltip if preview will get generated
  click on file to preview file, preview to preview preview
  generate image previews progress box...
  autogenerate should do special check for ~/.thumbnails to conform to freedesktop spec size and type...
  importimages-> eps --> they are fit into boxes!! they should maybe be inserted into a stream..

dynamic objects (generated images, dynamic images, rendered images)
    eps objects to pdf: export as image, plant in PDF as image
    group objects with laidout elements, updateable with script
    image objects using ImageImportFilters
    perhaps add TEX_BIN, LATEX_BIN, and text editor to quickly add stuff like that!!
    external commands:
      website to recommend learn more
      needs what type of file
      needs how many files
      needs what other info
In image properties dialog, have the popup list of potential previews
    preview style needs debugging and testing so as not to fry the freedesktop ones
if you change an eps to a non eps with the insert file, it still thinks it is an eps..
 image objects should auto change between the available image formats:
  bitmap--eps--embedded svg--dynamic
  Dynamic Content:
    displayed as images, or displayed as group of laidout objects
    possibly multiple images or objects in linked list:
      one source creates multipage ps, for instance, each page gets its own object
    controller source object:
      generator command + context
   examples:
    ps/tex/pdf/etc to eps files, import the eps files
    broken down equirect panorama to net
Image import chain:
  1. eps|EPS: Laidout builtin
  2. svg|SVG: inkscape command line export
  3. other external renderer: asymptote, structure synth, sunflow, pov-ray, lilypond, latex, graphviz, gnuplot
  3. * images: graphicsmagick
  4. jpg, png, gif, tiff: Imlib2

move Value and FieldPlace to laxkit? ValueHash would be very useful to ease configs

merge set and ValueHash?

Masking
    pathinterface conversion must be done
    true object tree with all lax data objects subclassed to hold children, and reference parent



Palettes:
  load palette should have a preview: file dialog preview function
  allow editing palette strips, import those to gradient tools
  custom palettes
  if height < 2*textheight, then hide name info
  wheel between loaded palettes?
  have a none color
  right click for:
    load palette
	select palette
	save palette
	dup palette
	New from a generator (like rainbow)
Soup up the color box so one can recall previous colors, and/or integration with palette window
    -->delay until proper color implementation in place
gradient resources
  owner: file/user global/system global
  name
  tags
  color strip: stops
    position
    color

debug multi head? seems to crash when showing with projectors plugged in
	screen info should return x,y,w,h, with flag saying it is part of a whole.
	if only one screen, then x,y is 0

pagerangeinterface:
  drag off screen should toggle off
  need overlay close box?
  edit base in place
  should remember old label format strings, to easily select back to them

for range on import/export, should have a range parser that accepts unconnected ranges, ie "2,4, 5-10"

shortcut dialog:
  area heads need to have human titles, _("Image Tool") instead of "ImageInterface"
  mode for shortcut check not quite working, such as ' ' with button to duplicate
  need hierarchy overlap features... it is easy to get lost in different zones
  panning f'd up, close but incorrect bounds checking when drag
  needs to make in window for cursor moving
  numberpadmask?
  char names for wacky xf86 codes.. accept 0x*
  mode based shortcuts have no display capability
  implement search
  need ability to add multiple keys for same action
  svg keyboard out

have option to specify language from command line

add menu items to rulercornermenu for reseting view orientation

reimpose option: center images, but not rescale?

improve split window
  control wheel to expand bevel
  load/save split bevel settings
  debug mouse cursor change when over gap
  simplify pane customization, docking

signature editor  Signature editor Signature Editor
  fold replay should start showing FRONT page of stack, not back. THIS IS A BUG
    if start from whichever, should show inverse of folds to normal as necessary
  scale pages preview needs to use margin area, not page area
  needs indicator of number of groups, show 3/10 for current sheet in little box above stack, allow numerical input

  show margin, trim, binding when not totally folded
  for large page counts, need number entry in stacks
  would be nice to indicate when there is a centerfold of any signature
  mixing different page sizes mixes up the PageLayout at boundaries. alignment should be either always centered, or custom
  after you add stack, the added one should be selected
  must implement dragging around instance blocks...
  helper controls to adjust inset to match up final size for sigs of different size
  indicators for different signature instances when viewing page spreads
  need to be able to designate particular sheets with properties (like color),
    as current insert mechanism assumes folds happen before insert
  tab to cycle through handles for numerical input
  mouse over and drag show numbers on canvas
  export pdf or lo doc template
  implement work and turn interface
  should probably be some kind of tooltip to say shift for fold under.
  binding edge must be same orientation for all stacks and inserts
  need a paper size editor stand alone window, entering numbers should convert name to custom
  paper select should give hints as to whether paper size can hold actual final size
  detect non staplable binding edge, show red rather than green
  test impose-only for all imposition types
  be able to specify single sided.. allows bound accordian foldings?
  implement creep

  DONE stacks should display below squared bounding box of pages? currently rotate canvas, the text is messed up 
  		-> have text rotate with it, more clearly shows where "bottom" is

Make extension to be able to use Inkscape live path effects (lpe)!! The run on svg snippets, so should be somewhat
  straightforward to call externally.. BUT have optional tool overlay. Figure out how to reverse implement to also
  run within Inkscape.

printer mark rendering default to a single color? editing of net outline allowed, but
then changes not stored

probably should decide how to handle making windows based on interfaces.. it is a more productive route than window dominant

pagemarkerinterface:
  option to lock label size to real space? make export contact sheets a little prettier in some cases

laxkit attributes.cc SimpleColorAttribute:
  should be able to handle any css color attribute, whether "#fff' "#ffffff"(done) or rgb(...)(done), hsl(...), hsla()
  DONE should return an end_ptr

page thumbnail should be rational, ie image should be whole page, not just contents+transform,
	 and thumb transform makes image dims to page coords

in number edit boxes, wheel should allow changing numbers, change on digit mouse is over?
  is it better to wheel at curpos?? probably.. select that digit, must track after changes!!!

global resources:
  current frame/time
  current language, for conditional text

external tools:
  to image renderers
  to object renderers
  Image editor (gimp, krita)
  plain text editor (gvim, console vim, command, etc)
  associate (object type) <-> (external editor)

> laidout blah.laidout...     <-- if starting like this, if blah.laidout does not exist, then abort
> laidout 1.laidout 2.laidout <-- if starting like this, if either exist, then start up, but have 
                                    warning message that one document failed to load?
	-> could have a consumable message interface? show a message until the box is clicked on, then it removes itself?

textobjects,limbos,papergroups should maybe be able to be stored per document, not just file, project, or temp
either that, or do away with whole project/document difference, and use only 
projects with their own directory, and projects without their own directory
Selected region out to image(s), regions optionally remembered
    rectangle or path?

import/export styledefs should use the extendsdef mechanism!!!

plain text edit window specify interpreter to process the text with


views with multiple spreads

page navigator should allow type in shortcuts like "end" 

messages to the status line should have priorities? so once mouse over messages are cleared, it would revert
  back to a lower priority message

perhaps split radial and linear gradients to different tools? makes more sense

all at once imposition... this would allow mapping of scribus layout without fuss. that
  could be a special case of n-up, where you specify n to be infinity, with m number of
  columns, not necessarily aligned, as scribus does.


importimages: remember last settings


===================Anything below here probably needs discussion before implementing================
---------------------------------- other enhancements ----------------------------------
how to keep track of class hierarchy? impositions are now listed by resource instance, what is
  best way of keeping track of base imposition classes? this is needed for file format description output

for translations, there is a difference between locale translations and language translations!
  not sure if it is worth paying attention to... need to investigate if locale as it affects keyboard input
  is separate from what locale we read in translations from. If it is distinguishable, that is fabulous, in that
  we can maintain the current locale key input, but change the language translation at will...

investigate pdfcreator as method to reduce file size

text (see also src/text/text.txt):
  harfbuzz support
  math mode
  track bookmarks
  inline graphics
  css import/export
  tabs on arbitrary paths
  text to path

repeater tool on path: could be adapted to help animation tweening

DumpImages within Arrangements, which are sort of a template of rect regions (2-d guides)
    would also implement the dump into Limbo
	dump into any string of objects, this is really the same thing as laying out a stream, maybe merge this?

measure tool.. configure measurements to be:
 displayer units
 object units
 units mapped to either type of units, so can use light years for units that are actually inch physical paper units
have arrows, and write on screen what the size is...

impositions:
  for printing/exporting non-paper layouts, should have option to specify what sort of paper
   or paper net is proper to hold the layout... means:
   paperstyle=imposition->Paper(layout);
   imposition return a spread with flag for if papergroup is for printing or printing and viewing

object selection:
 shift on a selected object should remove that object from selection
 would be nice to show what would be selected during rect-dragout
change object that is part of group object does not force remap of bbox of group

clean up and test:
--export-options format  List all the options for the given format
--print  'from=3; to=32; layout=pages; printer=epson-usb/matte360'
  same as:
--export 'filter="Postscript LL3"  from=3  to=32  layout=pages  command="lp -d epson-usb/matte360"'

pdf export:
 page labels

Import image list: default previews


export with limbo, and no doc or papergroup, means use bounding box for limbo?


when importing, have MysteryData, which has special attributes "@file-pos" which says
 where in the original file the attribute starts:
 MysteryData
   transform/bounds
   title (shown in screen)
   description
   file format the data is from
   attribute style listing of the object? or straight from file
 in: convert file to attributes, or provide method to tailor to an output format (eps, pdf objs, raster image),
         and provide a preview image or object to stand in for the file..


limbo transform should be obeyed. It can be moved, scaled, etc,
page layers should be simplified, each layer behaves according to its transform, and more controls inserted to handle layer maneuvering

impositions:
 Name                  Abbr.       Folds     Leaves    Pages
 Folio                  fo, f        1         2         4
 Quarto                 4to          2         4         8
 Sexto, Sixmo           6to, 6mo     3         6        12
 Octavo                 8vo          3         8        16
 Duodecimo, Twelvemo    12mo         4        12        24
 Sextodecimo, Sixteenmo 16mo         4        16        32

Net:
 save different setups: papertile AND net layout
 load save nets from: 1.net files or 2.OFF files(done)

LaxFiles::ColorAttribute()
default: make list of as many as there are in segment, if name has 'f' then assume float,
 if lettersNumber, then number is num of bits UNLESS it is 100
general: rgb     65535 0 0
         rgb_8   255   0 0
         rgb_100 100.0 0 0
         rgba_8  255   0 0 255
         rgb_16  65535 0 0
         rgba_f  1.0 0 0 1.0
         gray    65535
         graya_f 1.0 1.0
         cmy
         cmyk
         cmykaf
         hex    ffff0000ffff <- maybe autodetect how many bits
         hex8   ffffff
		 hex4   fff
         rgbx   0xffffff

need conversions: gradient->color patch
                  image -> imagepatch <- do with image filters rather than specific object type
                  imagepatch -> image
                  colorpatch -> image?

remember tool settings: double click on tool icon? right click...
remember tool settings

configurable command buttons to automate certain things with minimal window clutter....

preflighting: compatibility should be determined by object type managers, not individual objects
return if object is currently compatible with some standard, 
like "PS LL3", "EPS 3.0", "SVG 1.2", "PDF 1.3", "PDF 1.4" "HTML/CSS2"
1==yes, straight out
2==yes, but needs rasterizing
this would simplify preflight checking

dump OUT an image list? Scribus has "review images" feature.. can jump to location, edit print/view, etc

Saving: multiple documents open, save only the headwindows that refer only to that doc,
OR save no window configs (saved with project), OR save custom configs

directory reorganization?
 windows/ <-- purely ui elements
 core/ <-- implies isolating core functions

intl support: ready for pango? or Harfbuzz/cairo/freetype?

template/master pages: 
 have objects be tagged with ref object, so you can create a page with a master page
  that has a "text frame" for instance, but different children per page

a "Place" tool like indesign?? preview images and place by dragging out one by one, as well
 as optionally into Arrangements

NetImposition:
    import/export cff2?
    export vrml? pdf 1.6?


file format prettification  --file-format
  dump should differentiate between DrawableObject and pure resource objects... right now, all lumped together
  adapt the scribus xml/att convertor to parse the output of laidout --file-format
  into something meaningful...
  #-------blah--------  <- mark a new section
    thing      #thing's docs
      subthing #subthing's docs
    #docs for following atts indented same as previous atts
    next_att #(one or more) next_att docs


food for thought:
  haskell envelope function:  http://projects.haskell.org/diagrams/doc/manual.html


======================================DONE=================================================
When releasing new version, combine these with ROADMAP items for release notes.
These can then be purged after each release...
===========================================================================================


DONE UPDATE DTPCOMPARE

DONE impose only MUST NOT IGNORE the current document page count
DONE scribus export ignoring landscape flag?!
DONE add --experimental option to activate any crash prone features not otherwise available
DONE HeadWindow -> changeto HelpWindow creates a HelpWindow, but removes paneable headwindow
DONE debian/rules seems to need dh_shlibdeps --dpkg-shlibdeps-params=--ignore-missing-info, due to some kind of libGL mixup
      -> workaround in place.. not sure best way to eliminate totally
DONE file format dump is not showing dump of object types
DONE something with page styles when fixbleeds on delete pages sometimes, crash on paths delete
DONE r/R for rotate objects not syncing matrix correctly
DONE object tool: key rotate should rotate around any active transform anchors
DONE scribus out: not exporting proper page size, legal booklet
DONE need page number overlay
DONE? why no icon in menus? <- not sure what it means anymore, there do seem to be icons in menus 
DONE i broke reimpose due to margin area shift
DONE Spread Editor memory hole
DONE make singles 16 pages, edit imposition, select booklet. Defaults to 4 pages!
DONE page range, control click on page 1 less than a range won't let you click for new range
DONE pressing enter in popup menus is not ending the menu
DONE finish laxifying fillrule 
DONE overwrite should return to file dialog if no
DONE export should have option to export in segments, like 4 pages at a time, but export all 
DONE exporting needs to support custom export config objects per filter, ie SvgExportConfig 
DONE out click destroy does not absorb button down 
DONE previewer should show text previews left justified 
DONE signature editor:
  DONE current sheet indicator not using correct text extent, seems grabbing extent from 1/117 instead of 117/117 
  DONE needs visual dodads to indicate where to drag to change,
DONE image import preview should say pixel size of image
DONE laxkit filepreviewer.cc should not depend on Imlib!  
DONE interface for custom paper size in: signature editor
DONE papergroup tool NEEDS 1:1 paper matrix reset, maybe say what paper dimensions
DONE papergroup tool, reset angle for selected boxes
DONE ColorSliders:
  DONE auto out click destroy
  DONE clicking color comparator should allow clicking back to one just used: swap old and new, not copy old to new
  DONE CMYK sliders FAIL
  DONE be able to choose output color format (not necessarily same as temp input format)
  DONE cur/old color should show boxes for transparent
  DONE enter color hex FAIL, zaps to #00000000
DONE path editor should not have width handle 
DONE set defaultpapersize in laidoutrc, but it is ignored?
DONE default template a4, but still inches in imposition??
DONE not putting check mark next to paper group
DONE scribus plugin fails because no write permission for temporary file
DONE f1/help button should allow access to both about window and shortcut window
DONE mesh/patch controls: 
  DONE perhaps a line warp, using line width adjustable path interface
  DONE debug! mesh path move weight node, and more than one v
  DONE mesh data needs to keep a cache of matrices per mesh square to speed up on the fly calculations
  DONE delete should not delete whole object
DONE export needs "batch" send, break into smaller segments 
DONE image load relative paths not working on loading a document
DONE image patch not activating image dialog popup
DONE filters:
  DONE need to test all exports from command line!!!  
  DONE import vector should default to current page import 
  DONE export window should default cursor position to end of file path
DONE image
  DONE (via switch to pdf based) path hole bad, no engraver fill, page size appears wrong
  DONE make trip to gs based on pdf, NOT on postscript
DONE pdf: engraver fill exports black and offset
DONE svg:
  DONE export needs implementation for options for mesh and powerstroke
  DONE export needs specialized export config
DONE move impose-only attributes to newdoc/export dialog or otherwise somehow give access to all imposition stuff
DONE space cloning/duping doesn't work 
DONE cloner: need mass select page for all tiling types
DONE curves: Base CurveWindow on CurveInterface instead. the interface will be getting the actual work
DONE curves: move CurveInfo to own file.
DONE need way to jump to any spread, not just next or prev
DONE spread editor:
  DONE when rearranging pages, need to shift page contents according to margin area
  DONE shortcut for select all with same markers+color
  DONE should be able to hide groups of pages, since render speed of hundreds of pages is slow
  DONE memory hole: ./laidout -n letter, do f3, quit. investigate Leaves obj imposition #721, doc is #750 -> spreadeditorviewport
  DONE slide and swap needs to act with whole range
  DONE control left button to toggle pages in and out of selection
  DONE shift left button to select ranges
  DONE integration of page label gui with spreadeditor, select pages, pop up the dialog?
  DONE need page number overlay 
  DONE insert blanks before or after
  DONE update page label type to be color+shape, shape being circle, square, diamond, or triangle
    DONE default colors: white, gray, dark gray, black, red, yellow
DONE calculator:
  DONE debug "return value"
  DONE debug foreach
  DONE debug "break;"
  DONE debug class definitions
  DONE implement GenericValue, to allow fully scripted values
  DONE need "print" function
  DONE show (variable) should show the objectdef for that variable
  DONE debug if,while
  DONE debug if {a=2, b=3} or {a:2, b:3} or {a:2; b:3}, then scan in hash instead of set
  DONE 1/0 crashes
  DONE assignment still off, need to be able to do a.x=3;
  DONE debug function definitions
  DONE skipBlock does not obey // and /**/ commenting
  DONE a=(1,2); a.x crashes
  DONE show Laidout.Affine should show all fields
  DONE debug name lookup, assignment, etc
  DONE debug things like "show Math.sin"  --> is looking in scope namespace, rather than entries
  DONE allow // or /*comments*/ ?
  DONE AddName seems to work unevenly
  DONE change toCChar() and CChar() to int makeStr(char *&buffer,int &len, int oktoreallocate);
DONE? key window not showing fields!!!  
DONE impositioneditor not remembering window position
DONE PathInterface:
  DONE line caps are slightly rounded, they should either be rounded, butt, or zero caps for now
  DONE finish implementing center and outline interpolation: first/last point mixup, not interpolating right, duping start+end
  DONE bug: have non identity object trasform makes nodes display wrong, but scan works
  DONE need command to reset offset
  DONE need convert to straight lines (no bez controls)
  DONE need convert to straight bezier lines
  DONE add(done), close(done), open path(done), cut(done) needs to adjust weight nodes
  DONE debug ConnectEndpoints
  DONE debug reverse path effect on weight nodes
  DONE displayer->drawFormattedPoints needs to work correctly with draw_thing_coordinates
  DONE straight (non bez) line segments fools join mechanism
  DONE creation of new weight node must grab approximate weight
  DONE create 3 vertex path with 2 weight nodes, delete 3rd point, click on rotate part of second weight node.. crash!
  DONE? (can't duplicate) delete single point -> crash!
  DONE discontinuity in outline at point boundaries?
  DONE displayer->drawFormattedPoints needs to be finalized
  DONE curvemap needs wraparound mode for approximating widths on curved lines
  DONE draggable width/offset/angle changer
DONE engraving tool: Engraving 
  DONE need export to pdf, image
  DONE select next/prev object is removing panel
  DONE change dash/trace/other settings should trigger a remap of all groups using those settings
  DONE offsetting the object screws up the path mouse overs and clicks
  DONE bug: panel draws on top, but you can still click on page marker interface below
  DONE mode switch must remove child interface
  DONE change color for not currently selected group should map to the one clicked
  DONE when flipping between objects, gives no indication that we are on a new object, like a thick outline
  DONE dash caps on really thin gaps create incorrect overlaps -> wrong fill mode
  DONE bug: engraver lines with 1 or 2 points FAIL BADLY load in problem?
  DONE dup leaving empty group
  DONE  i/o for dashes, traces
  DONE bug: object ref, change original object, the trace is not updated
  DONE bug: ref trace object loading not working.. must resolve on load in (done), identifier not showing
  DONE brush outline should go off when over panel
  DONE need to be able to load and save trace object and position
  DONE should have minimum dash density control, like zero==50% 
  DONE bug: it is possible to click on slider balls, but drag whole panel
  DONE 'f' should center objects in resulting svg -> viewBox behavior!
  DONE on canvas direction and spacing controller
  DONE trace object should still be visible when no actual data
  DONE when trace object management worked out, need to fully implement relevant bits in data->duplicate()
  DONE should have group link so that distortion tools affect all those selected
  DONE multiple burins for different point groups? (done vie group flipping)
  DONE pointgroup i/o
  DONE not exporting correct color
  DONE move group up or down
  DONE dup current group (part of new)
  DONE spacingmap in GrowLines needs to use as object point as input, not s,t
  DONE freehand should probably discard final 1/10 second of input which makes all lines terribly pointy on one end
  DONE toggle on trace box to show/not show trace object (should be transparency slider)
  DONE should be able to increase point sample resolution
  DONE value image to trace to lines
  DONE trying to draw paths over other objects is next to impossible. -> needed to set primary==1
  DONE edit brush ramp
  DONE twirl
  DONE turbulence mode
  DONE duplicate does not duplicate the line


for 1st bugfix after 0.095:
DONE roman numeral capitals negative number has mystery box
DONE? (seems to work now) roman numeral menu select range editor not changing to roman!!
DONE make pdf default output format for sending to lp
DONE copy paste not working again
DONE transparency in paths does not work on screen (will fix with update to cairo)
DONE pop up a menu, close the originating window. The popup is still up!! "transientfor" problems?  


